<!DOCTYPE html>

<head>
  {% block head %}

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" href="{{ url_for('static', filename='media/other_images/favicon-logo.ico') }}">

    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/static.css') }}">

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alumni+Sans:ital,wght@0,100..900;1,100..900&family=Spicy+Rice&display=swap" rel="stylesheet">

    <title>
      {% block title %}
      {% endblock %}
    </title>

    {% if environment == 'development' and 'developer' not in session %}
      <style>

        #navbar
        #phone-navbar {
          display: none;
          margin-bottom: -100px;
        }

        #footer {
          display: none;
        }

      </style>

    {% else %}

      <!-- FULL SIZE NAVBAR -->
        <nav class="navbar container-fluid navbar-expand-lg" id="navbar">
          <ul class="navbar-nav me-auto" id="navbar-links">
            <li class="nav-item" id="navbar-logo-div">
              <a class="navbar-brand pink-text pink-hover" aria-current="page" id="navbar-logo" href="/">
                <text>
                  HolidayHub
                </text>
              </a>
              <br>
            </li>
            <li class="nav-item">
              <a class="nav-link pointer-cursor" id="share-button">Share</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/about" id="about-button">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pointer-cursor" id="popup-button">
                {% if 'valid_user' in session %}
                  Sign Up for Daily Emails!
                {% endif %}
              </a>
            </li>
          </ul>

          <!-- SEARCH BAR -->
          <form class="d-flex" role="search" action="/get-search-term" method="GET">
            <input class="form-control me-2" name="search-term" type="search" placeholder="Holiday Search" aria-label="Search" autocomplete="off" required/>
            <button class="btn submit-search" type="submit"><text>Go</text></button>
          </form>
        </nav>



        <!-- PHONE SCREEN NAVBAR -->
        <div class="container" id="phone-navbar">
          <a class="navbar-brand pink-text pink-hover" aria-current="page" id="navbar-logo" href="/">
            <text>
              HolidayHub
            </text>
          </a>
          <span id="phone-navlinks">
            <a class="pointer-cursor" id="share-button-phone">Share</a>
            <a  href="/about" id="about-button">About</a>
            <a class="pointer-cursor" id="popup-button-phone">
              {% if 'valid_user' in session %}
                Sign Up!
              {% endif %}
            </a>
          </span>
          <div id="phone-search-bar">
            <form class="d-flex" role="search" action="/get-search-term" method="GET">
              <input class="form-control me-2" name="search-term" type="search" placeholder="Holiday Search" aria-label="Search" autocomplete="off" required/>
              <button class="btn submit-search" type="submit"><text>Go</text></button>
            </form>
          </div>
        </div>


      <!-- POP-UPS -->

      <!-- SHARE -->
      <div class="popup-window" id="share-popup-window">

        <div class="x-close" id="x-close-share">
          <a>x</a>
        </div>

        <img
          class = "orange-flower-1"
          id = "orange-flower-share-1"
          src="{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "orange-flower-2"
          id = "orange-flower-share-2"
          src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "purple-flower-1"
          id = "purple-flower-share-1"
          src = "{{ url_for('static', filename='media/other_images/purple-flower.png') }}">
        </img>

        <div class="row popup-outer-row share-buttons grid-center">
          <div class="row" id="share-popup-window-text">
            <text>
              Share:
            </text>
          </div>
          <div class="row inner-button-row grid-center">
            <div class="row share-popup-window-inner-row" id="share-popup-window-row-1">
              <div class="col">
                <button id="twitter-share-button" class="btn share-button pink-button">Twitter</button>
                <button id="facebook-share-button" class="btn share-button pink-button">Facebook</button>
              </div>
            </div>

            <div class="row share-popup-window-inner-row" id="share-popup-window-row-2">
              <div class="col">
                <button id="pinterest-share-button" class="btn share-button">Pinterest</button>
                <button id="email-share-button" class="btn share-button">Email</button><br>
              </div>
            </div>

            <div class="row share-popup-window-inner-row" id="share-popup-window-row-3">
              <div class="col">
                <button id="copy-link-button" class="btn share-button pink-button">Copy Page Link</button><br>
                <small>
                  <span id="link-copied-label"></span><br>
                </small>
              </div>
            </div>
          </div>
          <div class="row share-popup-window-inner-row" id="share-popup-window-row-4">
            <div class="col">
              <button id="share-close-button" class="btn">Go Back</button>
            </div>
          </div>
        </div>
      </div>

      <div class="popup-window" id="thank-you-for-sharing-window">

        <div class="x-close" id="x-close-thank-you-for-sharing">
          <a>x</a>
        </div>

        <img
          class = "orange-flower-1"
          id = "orange-flower-thank-you-share-1"
          src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "orange-flower-2"
          id = "orange-flower-thank-you-share-2"
          src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "purple-flower-1"
          id = "purple-flower-thank-you-share-1"
          src = "{{ url_for('static', filename='media/other_images/purple-flower.png') }}">
        </img>

        <div class="row popup-outer-row grid-center" id="thank-you-for-sharing-outer-row">
          <div class="row popup-inner-row pink-text grid-center" id="thank-you-for-sharing-text">
            Thank you <br>
            for sharing!
            <div class="row popup-buttons" id="thank-you-for-sharing-row-2">
              <div class="col">
                <button id="close-button-thank-you-for-sharing" class="btn">Go Back</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ENTER EMAIL -->
      <div class="popup-window" id="popup-window">

        <div class="x-close" id="x-close-enter-email">
          <a>x</a>
        </div>

        <img
          class = "orange-flower-1"
          id = "orange-flower-enter-email-1"
          src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "orange-flower-2"
          id = "orange-flower-enter-email-2"
          src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "purple-flower-1"
          id = "purple-flower-enter-email-1"
          src = "{{ url_for('static', filename='media/other_images/purple-flower.png') }}">
        </img>

        <div id="enter-email-outer-row">
          <div class="row" id="add-email">
            <form action="/add-email" method = "POST" id="email-form">
              <label for="fname">First Name:</label><br>
              <input class="form-control me-2" id="fname" name="fname" autocomplete="off" type="text" required /></textarea><br>
              <label for="email">Email:</label><br>
              <input class="form-control me-2" id="email" name="email" type="email" autocomplete="off" required /></textarea><br>
              <div class="col" id="submit-email-buttons">
                <button id="submit-button" class="btn submit-button pink-button" type="submit">Submit!</button>
                <button id="close-button" class="btn">Go Back</button>
              </div>
            </form>
          </div>
          <div class="row" id="disclaimer-text">
              <text>
                By clicking submit you are giving HolidayHub permission to send you
                <span id="disclaimer-breakpoint-phone"><br></span>
                daily emails,
                <span id="disclaimer-breakpoint"><br></span>
                you may opt out at any time.
              </text>
          </div>
        </div>

        <div class="popup-window" id="thank-you-window">

          <div class="x-close" id="x-close-thank-you">
            <a>x</a>
          </div>

        <img
          class = "orange-flower-1"
          id = "orange-flower-thank-you-email-1"
          src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "orange-flower-2"
          id = "orange-flower-thank-you-email-2"
          src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
        </img>

        <img
          class = "purple-flower-1"
          id = "purple-flower-thank-you-email-1"
          src = "{{ url_for('static', filename='media/other_images/purple-flower.png') }}">
        </img>

          <div class="row popup-outer-row grid-center" id="thank-you-email-outer-row">
            <div class="row popup-inner-row pink-text grid-center" id="thank-you-email-text">
                Thank you!
              <div class="row">
                <div class="col popup-buttons" id="thank-you-email-buttons">
                  <button id="close-button-thank-you" class="btn">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="popup-window" id="duplicate-email-window">

          <div class="x-close" id="x-close-duplicate-email">
            <a>x</a>
          </div>

          <img
            class = "orange-flower-1"
            id = "orange-flower-duplicate-email-1"
            src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
          </img>

          <img
            class = "orange-flower-2"
            id = "orange-flower-duplicate-email-2"
            src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
          </img>

          <img
            class = "purple-flower-1"
            id = "purple-flower-duplicate-email-1"
            src = "{{ url_for('static', filename='media/other_images/purple-flower.png') }}">
          </img>

          <div class="row popup-outer-row grid-center" id="duplicate-email-outer-row">
            <div class="row popup-inner-row grid-center" id="duplicate-email-text">
              <text>
                Email already exists, please try again!
              </text>
              <div class="row popup-buttons" id="duplicate-email-buttons">
                <div class="col">
                  <button id="try-again-button" class="btn pink-button">Try again</button>
                  <button id="close-button-duplicate-email" class="btn">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="popup-window" id="invalid-email-window">

          <div class="x-close" id="x-close-invalid-email">
            <a>x</a>
          </div>

          <img
            class = "orange-flower-1"
            id = "orange-flower-invalid-email-1"
            src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
          </img>

          <img
            class = "orange-flower-2"
            id = "orange-flower-invalid-email-2"
            src = "{{ url_for('static', filename='media/other_images/orange-flower.png') }}">
          </img>

          <img
            class = "purple-flower-1"
            id = "purple-flower-invalid-email-1"
            src = "{{ url_for('static', filename='media/other_images/purple-flower.png') }}">
          </img>

          <div class="row popup-outer-row grid-center" id="invalid-email-outer-row">
            <div class="row popup-inner-row" id="invalid-email-inner-row">
              Invalid input, please try again!
              <div class="row">
                <div class="col popup-buttons" id="invalid-email-buttons">
                    <button class="btn pink-button" id="try-again-button-invalid-email">Try again</button>
                    <button class="btn" id="close-button-invalid-email">Close</button>
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- JAVASCRIPT -->
        <script src="{{ url_for('static', filename='js/popup.js') }}"></script>
        <script src="{{ url_for('static', filename='js/navbar.js') }}"></script>

      </div>
    {% endif %}
  {% endblock %}
</head>

<body>

  {% block body %}
  {% endblock %}

</body>

{% block after_body %}

  <div class="container-fluid width-100" id="footer">
    <div id="google-ads">
      <!-- - ads here - -->
    </div>

    <nav class="navbar bg-body-tertiary">
      <span class="navbar-text" id="footer-text">
        🎉 <a href="https://github.com/leah-ewing">Leah Ewing</a>, &#9426; 2024 - Background designed by <a href="https://www.freepik.com/">Freepik</a>
      </span>
      <span class="d-flex" id="privacy-policy-text">
        <a href="/privacy-policy">Privacy Policy</a>
      </span>

      {% if 'valid_user' not in session %}
        <span class="d-flex">
          <a href="/password-login" id="beta-login-link">Beta User Login</a>
        </span>
      {% else %}
        <span class="d-flex">
          <a href="/logout" id="beta-login-link">
            <text id="link-browser">
              Sign Out of Beta Version
            </text>
            <text id="link-phone">
              Sign Out
            </text>
          </a>
        </span>
      {% endif %}
    </nav>
  </div>
    
{% endblock %}

<!-- BOOTSTRAP SCRIPT -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>